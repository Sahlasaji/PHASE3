<Window x:Class="PatientAdmissionApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PatientAdmissionApp"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800" Closed="Window_Closed">
    <Canvas>
        <TextBlock Text="Patient Management System" FontSize="29" Canvas.Left="200" Canvas.Top="10" FontWeight="Bold"/>
        <Button Content="Patient Registration" Canvas.Left="10" Canvas.Top="80"  x:Name="btnRegistration" Click="btnRegistration_Click" Command="{Binding ShowRegistrationCommand}"  />
        <Button Content="Appointment Confirmation" Canvas.Left="10" Canvas.Top="130"  x:Name="btnAppointment" Click="btnAppointment_Click" />
        <Button Content="Patient Dashboard" x:Name="btnDashboard" Canvas.Left="10" Canvas.Top="180" Click="btnDashboard_Click" />
        <ContentControl x:Name="MainContent"  Margin="20" Canvas.Left="200" Canvas.Top="60" Width="400" Height="300" HorizontalAlignment="Center" VerticalAlignment="Center" />
    </Canvas>

    
</Window>

using System.Windows;

namespace PatientAdmissionApp
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
            this.DataContext = new PatientViewModel();

        }

        private void btnRegistration_Click(object sender, RoutedEventArgs e)
        {


            var confirmationControl = new PatientRegistrationControl();


            var mainWindow = Window.GetWindow(this) as MainWindow;
            if (mainWindow != null)
            {
                mainWindow.MainContent.Content = confirmationControl;
            }

        }

        private void btnAppointment_Click(object sender, RoutedEventArgs e)
        {
            var appointmentControl = new AppointmentControl();
            var appointmentWindow = Window.GetWindow(this) as MainWindow;

            if (appointmentWindow != null)
            {
                appointmentWindow.MainContent.Content = appointmentControl;

            }
        }

        private void btnDashboard_Click(object sender, RoutedEventArgs e)
        {
            var patientDashboardControl = new PatientDashboardControl();
            var patientDashboard = Window.GetWindow(this) as MainWindow;

            if (patientDashboard != null)
            {
                patientDashboard.MainContent.Content = patientDashboardControl;

            }
        }

        private void Window_Closed(object sender, System.EventArgs e)
        {
            Application.Current.Shutdown();
        }
    }
}



<UserControl x:Class="PatientAdmissionApp.PatientRegistrationControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:PatientAdmissionApp" d:DataContext="{d:DesignInstance Type=local:PatientViewModel}"
             mc:Ignorable="d" 
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             d:DesignHeight="450" d:DesignWidth="800">
   
    <Grid>
        <StackPanel Margin="20">
            <TextBlock Text="Patient Registration" FontSize="20" FontWeight="Bold" />
            <TextBlock Text="Name:"  />
            <TextBox x:Name="NameTextBox" Text="{Binding NewPatient.Name}" />
            <TextBlock Text="Date of Birth:" />
            <DatePicker x:Name="DOBPicker" SelectedDate="{Binding NewPatient.Dateofbirth}" SelectedDateFormat="Short" DisplayDateEnd="{x:Static sys:DateTime.Now}"/>
            
            <TextBlock Text="Address:" />
                <TextBox x:Name="AddressTextBox" Text="{Binding NewPatient.Address}"/>
            <TextBlock Text="Slot:" />
            <ComboBox x:Name="SlotComboBox" Text="{Binding NewPatient.Slot}"> 
                <ComboBoxItem Content="Morning"  />
                <ComboBoxItem Content="Evening" />
            </ComboBox>



            <TextBlock Text="Booking Date:" />
            <DatePicker x:Name="BookingDatePicker" SelectedDateFormat="Short" SelectedDate="{Binding NewPatient.BookingDate}" DisplayDateStart="{x:Static sys:DateTime.Now}"/>
            <Button Content="Register" Width="100" Height="30" Margin="0,10,0,0" Command="{Binding RegisterPatientCommand}" />
        </StackPanel>
    </Grid>
</UserControl>

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;

namespace PatientAdmissionApp
{
    /// <summary>
    /// Interaction logic for PatientRegistrationControl.xaml
    /// </summary>
    public partial class PatientRegistrationControl : UserControl
    {
        public PatientRegistrationControl()
        {
            InitializeComponent();
            //this.DataContext = new PatientViewModel();
        }
        


    }
}

using System;
using System.Collections.ObjectModel;
using System.Windows;
using System.Windows.Input;

namespace PatientAdmissionApp
{
     public class PatientViewModel : BaseViewModel, Ipatient
    {
        public event EventHandler AppointmentUpdated;
        public ObservableCollection<PatientModel> Patients { get; set; } = new ObservableCollection<PatientModel>();
        public ObservableCollection<PatientModel> ConfirmedPatients { get; set; } = new ObservableCollection<PatientModel>();

        private PatientModel _newPatient;
        public PatientModel NewPatient
        {
            get { return _newPatient; }
            set { _newPatient = value; OnPropertyChanged(); }
        }

        public ICommand RegisterPatientCommand { get; set; }
        public ICommand ConfirmAppointmentCommand { get; set; }
        public ICommand CancelAppointmentCommand { get; set; }

        public PatientViewModel()
        {
            NewPatient = new PatientModel();
            RegisterPatientCommand = new RelayCommand(RegisterPatient);
            ConfirmAppointmentCommand = new RelayCommand(ConfirmAppointment);
            CancelAppointmentCommand = new RelayCommand(CancelAppointment);
        }

        public void RegisterPatient(object parameter)
        {
            Patients.Add(new PatientModel
            {
                Name = NewPatient.Name,
                Dateofbirth = NewPatient.Dateofbirth,
                Age = DateTime.Now.Year - NewPatient.Dateofbirth.Year,
                Address = NewPatient.Address,
                Slot = NewPatient.Slot,
                BookingDate = NewPatient.BookingDate
               
            });
            NewPatient = new PatientModel();
            MessageBox.Show("Registration Success!!!!");
        }

        public void ConfirmAppointment(object parameter)
        {
            if (parameter is PatientModel patient)
            {
                // Move patient to ConfirmedPatients and remove from Patients
                patient.ConfirmationStatus = "Confirmed";
               

                ConfirmedPatients.Add(patient);
                Patients.Remove(patient);
                AppointmentUpdated?.Invoke(this,EventArgs.Empty);
                MessageBox.Show($"{patient.Name}'s appointment confirmed.");
            }
        }

        public void CancelAppointment(object parameter)
        {
            if (parameter is PatientModel patient)
            {
                // Remove patient from Patients
                Patients.Remove(patient);
                MessageBox.Show($"{patient.Name}'s appointment has been canceled.");
            }
        }

        //public void SendUpdate(object parameter)
        //{
        //    throw new NotImplementedException();
        //}
    }
}
change the code so that patientRegistration is using event handler



